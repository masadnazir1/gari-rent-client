<app-navbar />

<div class="car-details-container">
  <!-- Left: Image & Info -->
  <div class="car-left">
    <div class="image-gallery">
      <img class="main-img" [src]="mainImage" [alt]="car.name" />
      <div class="thumbs">
        <img
          *ngFor="let img of car.images"
          [src]="img"
          (click)="selectMainImage(img)"
          [class.active]="mainImage === img"
        />
      </div>
    </div>

    <h2 class="price">Rs {{ car.dailyRate | number }}</h2>
    <h3 class="title">{{ car.name }}</h3>
    <p class="location">
      <fa-icon [icon]="faLocation"></fa-icon> {{ car.location | titlecase }}
    </p>

    <!-- Car Meta -->
    <div class="meta-grid">
      <div class="meta">
        <fa-icon [icon]="faCalendar"></fa-icon>
        <span>Year</span>
        <strong>{{ car.year }}</strong>
      </div>
      <div class="meta">
        <fa-icon [icon]="faMileage"></fa-icon>
        <span>Mileage</span>
        <strong>{{ car.mileage | number }} KM</strong>
      </div>
      <div class="meta">
        <fa-icon [icon]="faFuel"></fa-icon>
        <span>Fuel</span>
        <strong>{{ car.fuel }}</strong>
      </div>
      <div class="meta">
        <fa-icon [icon]="faGear"></fa-icon>
        <span>Transmission</span>
        <strong>{{ car.transmission }}</strong>
      </div>
    </div>

    <!-- Description -->
    <div class="description">
      <h4>Description</h4>
      <p>{{ car.description }}</p>
    </div>
  </div>

  <!-- Right: Dealer Info -->
  <div class="car-right">
    <div class="dealer-card">
      <div class="dealer-header">
        <div class="dealer-avatar">{{ car.dealerId?.fullName }}</div>
        <div>
          <h4>{{ car.dealerId?.fullName }}</h4>
          <span class="muted">{{ car.dealerId?.status }} Dealer</span>
        </div>
      </div>
      <button class="btn book first" (click)="goToBooking(car)">
        <fa-icon [icon]="faCalendar"></fa-icon> Book for {{ car.dailyRate }}
      </button>
      <button class="btn phone">
        <fa-icon [icon]="faPhone"></fa-icon> Show Phone Number
      </button>

      <button class="btn chat"><fa-icon [icon]="faChat"></fa-icon> Chat</button>
    </div>
  </div>
</div>

<div class="fixedBottom">
  <div class="DetailsBottom">
    <h3 class="title">{{ car.name }}</h3>
    <p class="location">
      <fa-icon [icon]="faLocation"></fa-icon> {{ car.location | titlecase }}
    </p>
  </div>
  <button class="btn book" (click)="goToBooking(car)">
    <fa-icon [icon]="faCalendar"></fa-icon> Book for {{ car.dailyRate }}
  </button>
</div>
