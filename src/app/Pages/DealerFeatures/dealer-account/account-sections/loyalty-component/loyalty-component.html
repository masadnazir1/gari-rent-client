<div class="loyalty-wrapper">
  <!-- Hero Card -->
  <div class="hero-card">
    <h2>ğŸ‰ Your Points: {{ currentPoints }}</h2>
    <p *ngIf="getNextTier(); else maxTier">
      Only <strong>{{ pointsToNextTier() }} points</strong> to reach
      <strong>{{ getNextTier()?.name }} Tier</strong>!
    </p>
    <ng-template #maxTier>
      <p>You have reached the highest tier! ğŸ†</p>
    </ng-template>

    <div class="progress-bar">
      <div
        class="progress"
        [style.width.%]="
          (currentPoints / (getNextTier()?.pointsRequired || currentPoints)) *
          100
        "
      ></div>
    </div>
  </div>

  <!-- Reward Tiers -->
  <div class="tiers">
    <div class="tier-card" *ngFor="let tier of rewardTiers">
      <fa-icon [icon]="tier.icon"></fa-icon>
      <h3>{{ tier.name }}</h3>
      <p>Requires: {{ tier.pointsRequired }} pts</p>
      <ul>
        <li *ngFor="let perk of tier.perks">{{ perk }}</li>
      </ul>
      <button
        class="redeem-btn"
        [disabled]="currentPoints < tier.pointsRequired"
      >
        Redeem <fa-icon icon="arrow-right"></fa-icon>
      </button>
    </div>
  </div>
</div>
